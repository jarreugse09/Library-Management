<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Page</title>
    <link rel="stylesheet" href="/styles/header.css" />
    <link rel="stylesheet" href="../styles/userPage.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <script>
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js';
    </script>
  </head>
  <body>
    <header class="header">
      <!-- Changed from div to header -->
      <div class="logo">
        <img src="../images/LibraLinkLogo.png" alt="Logo" />
        <h1>LibraLink</h1>
        <!-- Added missing h1 -->
      </div>
      <div class="search-wrapper">
        <!-- Changed class to match CSS -->
        <input id="search" type="text" placeholder="Search books..." />
        <!-- Consistent placeholder -->
      </div>
      <nav>
        <ul>
          <li><a href="/userPage" id="Browse">Browse</a></li>
          <li><a href="/userPage" id="myBooks">My Books</a></li>
          <li class="dropdown">
            <a href="#" id="settingsToggle">Settings ▾</a>
            <ul class="dropdown-menu" id="settingsDropdown">
              <li id="clerkBtn" style="display: none">
                <a href="/clerkPage/">Clerk Page</a>
              </li>
              <li id="adminBtn" style="display: none">
                <a href="/adminPage/">Admin Page</a>
              </li>
              <li><a href="/userPage/account">Account</a></li>
              <li><a href="/userPage/donateForm">Donate</a></li>
              <li><a href="/borrowForm">Borrow</a></li>
              <li><a href="#" id="logoutBtn">Logout</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>
    <!-- Changed closing tag -->

    <main class="container">
      <!-- Changed from div to main -->
      <aside class="genre" style="display: none">
        <!-- Changed from div to aside -->
        <h2>Genres</h2>
        <ul id="genreList"></ul>
      </aside>
      <aside class="sidebar" id="sidebar">
        <h2>My Books</h2>
        <ul id="sidebarList">
          <li><a id="currentBookBtn" href="">Currently Reading</a></li>
          <li><a id="donatedBtn" href="">Donated Books</a></li>
          <li><a id="savedBookBtn" href="">Saved Books</a></li>
        </ul>
      </aside>
      <!--USER DONATED BOOKS -->
      <section class="books">
        <!-- Changed from div to section -->

        <div class="book-list" id="myBookList">
          <!-- Book items will be dynamically added here -->
        </div>
        <!-- Modal for viewing PDF -->
      </section>
      <section id="pdfModal" class="pdfModal" style="display: none">
        <div class="pdf-header">
          <button id="prevPage">◀</button>
          <span id="pageNum"></span> / <span id="pageCount"></span>
          <button id="nextPage">▶</button>
          <button id="closePdfModal">Close</button>
        </div>
        <canvas id="pdfCanvas"></canvas>
      </section>

      <!-- BROWSE SECTION -->
      <section class="browse" style="display: none">
        <!-- Changed from div to section -->
        <h2>Browse</h2>
        <button id="physicalBtn">Physical Books</button>
        <button id="ebookBtn">E-Books</button>
        <div class="book-list" id="browseList">
          <!-- Book items will be dynamically added here -->
        </div>
      </section>

      <aside class="book-info">
        <!-- Changed from div to aside -->
        <button class="exit-btn" id="closeBookInfo">✕</button>
        <!-- Changed class to match CSS -->
        <h2>Book Information</h2>
        <div class="book-details" id="bookDetails">
          <!-- Book details will be dynamically added here -->
        </div>
        <div class="book-actions">
          <button id="readNowBtn" type="button">Read Now</button>
          <button id="addToLibrary" type="button">Add to Library</button>
          <button id="removeToLibrary" type="button">Remove</button>
        </div>
      </aside>
    </main>

    <script src="../scripts/header.js"></script>
    <script src="../scripts/userPage.js"></script>
  </body>
</html>
